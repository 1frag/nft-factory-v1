const ethers = require('ethers');
const { factoryAddr } = require('./utils.js')

const initCode = '0x6080604052600180546001600160a01b0319163217905534801561002257600080fd5b50610182806100326000396000f3fe6080604052600436106100345760003560e01c80632da4e75c146100675780638da5cb5b14610087578063c89e4361146100c3575b600080546001600160a01b03169036908037600080366000845af43d6000803e808015610060573d6000f35b3d6000fd5b005b34801561007357600080fd5b5061006561008236600461011c565b6100e3565b34801561009357600080fd5b506001546100a7906001600160a01b031681565b6040516001600160a01b03909116815260200160405180910390f35b3480156100cf57600080fd5b506000546100a7906001600160a01b031681565b6001546001600160a01b031633146100fa57600080fd5b600080546001600160a01b0319166001600160a01b0392909216919091179055565b60006020828403121561012e57600080fd5b81356001600160a01b038116811461014557600080fd5b939250505056fea26469706673582212201c66b83338d7f5238d8ef0fc6b9e99b946bccce2e57da22ca8f82094623cb4a264736f6c63430008110033';
const initCodeHash = ethers.utils.keccak256(initCode);

async function main () {
    let bestPrefix = '0x';

    for (let i = 0; true; i++) {
        const addr = ethers.utils.getCreate2Address(
            factoryAddr,
            ethers.utils.keccak256(i),
            initCodeHash,
        );
        if (addr.startsWith(bestPrefix)) {
            console.log(addr, i, ethers.utils.keccak256(i));
            bestPrefix += 'a';
        }
    }
}

main()
    .catch((err) => {
        console.error(err);
        process.exitCode = 1;
    });
